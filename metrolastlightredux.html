<!DOCTYPE html>
<html lang="en">

<head>
  <title>Metro Last Light Redux</title>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
  <meta name="description" content="JOERL GAMES" />
  <meta name="keywords" content="html, css, javascript, jquery" />
  <meta name="author" content="Joel Anang" />
  <link rel="stylesheet" href="Styles/styles.css" />
  <link rel="icon" href="./Images/favicon.png" type="image/x-icon" />
</head>

<body>
  <section>
    <header>
      <div class="nav-logo">
        <a href="index.html">
          <img src="./Images/nav-logo.png" alt="JOERL GAMES Logo" />
        </a>
      </div>
      <ul class="menu">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="#about">About Game</a></li>
        <li><a href="requests.html">Requests</a></li>
      </ul>
      <!-- Mobile Menu Icon -->
      <div class="menu-icon" onclick="toggleMenu()">
        &#9776; <!-- Hamburger Icon -->
      </div>
    </header>

    <!--=======================================================-->
    <!-- SLIDER -->
    <div class="slider">
      <!-- list Items -->
      <div class="list">
        <div class="item active">
          <img src="./Images/mllr1.jpg">
          <div class="content">
            <p>Survival Horror</p>
            <h2>Metro Last Light Redux</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr2.jpg">
          <div class="content">
            <p>Survival Horror</p>
            <h2>Metro Last Light Redux</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr3.jpg">
          <div class="content">
            <p>Survival Horror</p>
            <h2>Metro Last Light Redux</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr4.jpg">
          <div class="content">
            <p>Survival Horror</p>
            <h2>Metro Last Light Redux</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr5.jpg">
          <div class="content">
            <p>Survival Horror</p>
            <h2>Metro Last Light Redux</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
      </div>
      <!--=======================================================-->
      <!-- THUMBNAILS -->
      <div class="thumbnail">
        <div class="item active">
          <img src="./Images/mllr1.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr2.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr3.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr4.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/mllr5.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
      </div>
    </div>
  </section>
  <!--=======================================================-->

  <!-- ABOUT THIS GAME SECTION -->
  <section class="about" id="about">
    <h2>Metro: <span>Last Light Redux</span></h2>
    <hr>
    <div class="content-container">
      <p class="game-description">
        It is the year 2034. Beneath the ruins of post-apocalyptic Moscow the remnants of mankind are besieged by deadly
        threats
        from outside – and within.

        But rather than stand united, the station-cities of the Metro are locked in a struggle for the ultimate power, a
        doomsday device from the military vaults of D6. A civil war is stirring that could wipe humanity from the face
        of the
        earth forever. As Artyom, burdened by guilt but driven by hope, you hold the key to our survival – the last
        light in our
        darkest hour…
      </p>
      <!--=======================================================-->
      <!-- GAME FEATURES -->
      <div class="features-grid">
        <div class="feature">
          <h3>Immerse yourself in the Moscow Metro</h3>
          <p>Witness one of the most atmospheric worlds in gaming brought to life with stunning next-gen visuals at
            60FPS.</p>
        </div>
        <div class="feature">
          <h3>Rebuilt and Remastered for next-gen</h3>
          <p>All previous DLC content included, new modes and features, and many gameplay improvements.
          </p>
        </div>
        <div class="feature">
          <h3>"Spartan" and "Survival" Modes</h3>
          <p>Approach the game as a slow burn Survival Horror, or tackle it with the combat skills of a Spartan Ranger
            in these two
            unique modes.</p>
        </div>
      </div>
    </div>
    <!--=======================================================-->
    <!-- SYSTEM REQUIREMENTS -->
    <div class="system-requirements">
      <h3>System Requirements</h3>
      <div class="requirements-grid">
        <div class="requirement">
          <h4>Minimum:</h4>
          <ul>
            <li>OS: Windows 7 or 8 (64-bit only)</li>
            <li>CPU: Dual Core CPU (2.2+ GHz Dual Core CPU or better)</li>
            <li>RAM: 2 GB</li>
            <li>Storage: 15 GB</li>
          </ul>
        </div>
        <!--=======================================================-->
        <div class="requirement">
          <h4>Recommended:</h4>
          <ul>
            <li>OS: Windows 7 or 8 (64-bit only) or higher</li>
            <li>CPU: Any Quad Core or 3.0+ GHz Dual Core CPU</li>
            <li>RAM: 4 GB</li>
            <li>Storage: 10 GB</li>
          </ul>
        </div>
      </div>
    </div>
    <!--=======================================================-->
    <!-- MISSIONS -->
    <div class="system-requirements">
      <h3>Missions</h3>
      <div class="requirements-grid">
        <div class="requirement">
          <h4>Main missions</h4>
          <ul>
            <li>Introduction </li>
            <li>Sparta </li>
            <li>Ashes </li>
            <li>Pavel </li>
            <li>Reich </li>
            <li>Separation </li>
            <li>Facility </li>
            <li>Torchlight </li>
            <li>Echoes </li>
            <li>Bolshoi </li>
            <li>Korbut </li>
            <li>Revolution </li>
            <li>Regina </li>
            <li>Bandits</li>
            <li>Dark Water </li>
            <li>Venice </li>
            <li>Sundown </li>
            <li>Nightfall </li>
            <li>Undercity </li>
            <li>Contagion </li>
            <li>Quarantine </li>
            <li>Khan </li>
            <li>The Chase </li>
            <li>The Crossing </li>
            <li>Bridge </li>
            <li>Depot </li>
            <li>The Dead City </li>
            <li>Red Square </li>
            <li>The Garden </li>
            <li>Polis </li>
            <li>D6</li>
            </li>
          </ul>
        </div>

        <div class="requirement">
          <h4>DLC</h4>
          <ul>
            <li>
            <li>The Tower Pack</li>
            <li>Heavy Squad</li>
            <li>Kshatriya</li>
            <li>Spider Lair</li>
            <li>Anna</li>
            <li>Sniper Team</li>
            <li>Pavel</li>
            <li>Khan</li>
            </li>
          </ul>
        </div>
      </div>
    </div>
    </div>




    <!--=======================================================-->
    <!-- GAME TRAILER -->
    <div class="trailer-container">
      <h3>Official Trailer</h3>
      <div class="video-wrapper">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/zZrgoPvBxjE?si=zEu9y-NghcmV2BPJ"
          title="YouTube video player" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
      <!--=======================================================-->
      <!-- DOWNLOAD BUTTONS -->
      <div class="download-section">
        <h3>Download Now</h3>
        <div class="download-buttons">
          <a href="magnet:?xt=urn:btih:d16c9239ce60cd24cc7fd59ca7a6ac8648d7f424&dn=Metro+Last+Light+Redux+%28GOG%29&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Fzer0day.ch%3A1337&tr=udp%3A%2F%2Fopen.demonii.com%3A1337&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Fexodus.desync.com%3A6969"
            class="download-btn primary">Download</a>
          <!--=======================================================-->
        </div>
      </div>
  </section>
  <!--=======================================================-->

  <button class="back-to-top" id="backToTop">
    <img src="./Images/b2t.png" alt="Back to top">
  </button>
  <!--=======================================================-->
  <footer class="footer">
    <div class="footer-container">
      <img src="./Images/logo.png" alt="Company Logo" class="footer-logo">
      <div class="copyright">
        ©
        <script>document.write(new Date().getFullYear())</script> All Rights Reserved
      </div>
    </div>
  </footer>

  <!--=======================================================-->
  <!--SCRIPT-->
  <script>
    const backToTop = document.getElementById('backToTop');

    // SHOW/HIDE BUTTON BASED ON SCROLL POSITION
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    });

    // SMOOTH SCROLL TO TOP WHEN CLICKED
    backToTop.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    /////////////////////////////////////////////////////////
    // SLIDER
    let items = document.querySelectorAll('.slider .list .item');
    let thumbnails = document.querySelectorAll('.thumbnail .item');
    let thumbnailsContainer = document.querySelector('.thumbnail .list');

    // CONFIG PARAM
    let countItem = items.length;
    let itemActive = 0;
    let isThumbnailClicked = false; // FLAG TO TRACK CLICK
    let startX = 0;
    let currentTranslate = 0;
    let prevTranslate = 0;
    let maxTranslate = 0;
    let minTranslate = 0;

    // INITIAL ACTIVE STATE
    items[0].classList.add('active');
    thumbnails[0].classList.add('active');

    // AUTO-RUN SLIDER
    let refreshInterval = setInterval(() => {
      itemActive = itemActive + 1;
      if (itemActive >= countItem) {
        itemActive = 0;
      }
      showSlider();
    }, 8000);

    function showSlider() {
      // REMOVE ACTIVE CLASS FROM OLD ITEMS
      let itemActiveOld = document.querySelector('.slider .list .item.active');
      let thumbnailActiveOld = document.querySelector('.thumbnail .item.active');

      // CHECK IF OLD ACTIVE ITEMS EXIST BEFORE REMOVING THE CLASS
      if (itemActiveOld) {
        itemActiveOld.classList.remove('active');
      }
      if (thumbnailActiveOld) {
        thumbnailActiveOld.classList.remove('active');
      }

      // ADD ACTIVE CLASS TO NEW ITEMS
      items[itemActive].classList.add('active');
      thumbnails[itemActive].classList.add('active');
      setPositionThumbnail();

      // RESET THE AUTO-RUN SLIDER INTERVAL
      clearInterval(refreshInterval);
      refreshInterval = setInterval(() => {
        itemActive = itemActive + 1;
        if (itemActive >= countItem) {
          itemActive = 0;
        }
        showSlider();
      }, 8000);
    }

    function setPositionThumbnail() {
      if (isThumbnailClicked) {
        let thumbnailActive = document.querySelector('.thumbnail .item.active');
        let rect = thumbnailActive.getBoundingClientRect();
        if (rect.left < 0 || rect.right > window.innerWidth) {
          thumbnailActive.scrollIntoView({ behavior: 'smooth', inline: 'nearest' });
        }
        isThumbnailClicked = false; // RESET FLAG
      }
    }

    // CLICK THUMBNAIL
    thumbnails.forEach((thumbnail, index) => {
      thumbnail.addEventListener('click', () => {
        itemActive = index;
        isThumbnailClicked = true; // SET FLAG
        showSlider();
      });
    });

    // TOUCH EVENTS FOR THUMBNAIL SWIPING
    thumbnailsContainer.addEventListener('touchstart', touchStart);
    thumbnailsContainer.addEventListener('touchmove', touchMove);
    thumbnailsContainer.addEventListener('touchend', touchEnd);

    function touchStart(event) {
      startX = event.touches[0].clientX;
      prevTranslate = currentTranslate;
    }

    function touchMove(event) {
      const currentX = event.touches[0].clientX;
      const deltaX = currentX - startX;
      currentTranslate = prevTranslate + deltaX;

      // CALCULATE MIN AND MAX TRANSLATE VALUES
      minTranslate = window.innerWidth - thumbnailsContainer.scrollWidth;
      maxTranslate = 0;

      // LIMIT THE SLIDING WITHIN BOUNDS
      if (currentTranslate > maxTranslate) {
        currentTranslate = maxTranslate;
      }
      if (currentTranslate < minTranslate) {
        currentTranslate = minTranslate;
      }

      thumbnailsContainer.style.transform = `translateX(${currentTranslate}px)`;
    }

    function touchEnd() {
      prevTranslate = currentTranslate;
    }


    ///////////////////////////////////////////////////////////////////////////////
    // HAMBURGER SYMBOL
    // Function to toggle the mobile menu
    function toggleMenu() {
      const menu = document.querySelector('.menu');
      menu.classList.toggle('active');
    }
  </script>

  <!--=======================================================-->
  <!--SCRIPTS-->
  <script src="Scripts/Header.js"></script>
  <script src="Scripts/Pagination.js"></script>
  <!--=======================================================-->
  <!--///////////////////////////////////////////////////////-->
  <!--///////////////////////////////////////////////////////-->
  <!--///////////////////////////////////////////////////////-->
</body>

</html>