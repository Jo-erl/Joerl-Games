<!DOCTYPE html>
<html lang="en">

<head>
  <title>Control</title>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
  <meta name="description" content="JOERL GAMES" />
  <meta name="keywords" content="html, css, javascript, jquery" />
  <meta name="author" content="Joel Anang" />
  <link rel="stylesheet" href="Styles/styles.css" />
  <link rel="icon" href="./Images/favicon.png" type="image/x-icon" />
</head>

<body>
  <section>
    <header>
      <div class="nav-logo">
        <a href="index.html">
          <img src="./Images/nav-logo.png" alt="JOERL GAMES Logo" />
        </a>
      </div>
      <ul class="menu">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="#about">About Game</a></li>
        <li><a href="requests.html">Requests</a></li>
      </ul>
      <!-- Mobile Menu Icon -->
      <div class="menu-icon" onclick="toggleMenu()">
        &#9776; <!-- Hamburger Icon -->
      </div>
    </header>

    <!--=======================================================-->
    <!-- SLIDER -->
    <div class="slider">
      <!-- list Items -->
      <div class="list">
        <div class="item active">
          <img src="./Images/c1.jpg">
          <div class="content">
            <p>Action-adventure</p>
            <h2>Control</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c2.jpg">
          <div class="content">
            <p>Action-adventure</p>
            <h2>Control</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c3.jpg">
          <div class="content">
            <p>Action-adventure</p>
            <h2>Control</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c4.jpg">
          <div class="content">
            <p>Action-adventure</p>
            <h2>Control</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c5.jpg">
          <div class="content">
            <p>Action-adventure</p>
            <h2>Control</h2>
            <p>
              Screenshots
            </p>
          </div>
        </div>
      </div>
      <!--=======================================================-->
      <!-- THUMBNAILS -->
      <div class="thumbnail">
        <div class="item active">
          <img src="./Images/c1.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c2.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c3.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c4.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
        <div class="item">
          <img src="./Images/c5.jpg">
          <div class="content">
            Screenshot
          </div>
        </div>
        <!--=======================================================-->
      </div>
    </div>
  </section>
  <!--=======================================================-->

  <!-- ABOUT THIS GAME SECTION -->
  <section class="about" id="about">
    <h2>Control<span></span></h2>
    <hr>
    <div class="content-container">
      <p class="game-description">
        After a secretive agency in New York is invaded by an otherworldly threat, you become the new Director
        struggling to
        regain Control. This supernatural third-person action-adventure game will challenge you to master a combination
        of
        supernatural abilities, modifiable loadouts and reactive environments, while fighting through a deep and
        unpredictable
        world.
      </p>
      <!--=======================================================-->
      <!-- GAME FEATURES -->
      <div class="features-grid">
        <div class="feature">
          <h3>Uncover the mysteries</h3>
          <p>Can you handle the Bureau’s dark secrets? Unfold an epic supernatural
            struggle, filled with unexpected characters and bizarre events, as you
            search for your missing brother, and discover the truth that has brought
            you here.
          </p>
        </div>
        <div class="feature">
          <h3>Everything is your weapon</h3>
          <p>Unleash destruction through transforming weaponry and telekinetic
            powers. Discover new ways to annihilate your enemies as you harness
            powerful abilities to turn everything around you into a lethal weapon.</p>
        </div>
        <div class="feature">
          <h3>Explore a hidden world</h3>
          <p>Delve deep into the ominous expanses of a secretive government
            agency. Explore the Bureau’s shifting environments only to discover
            that there is always more than meets the eye…</p>
        </div>
      </div>
    </div>
    <!--=======================================================-->
    <!-- SYSTEM REQUIREMENTS -->
    <div class="system-requirements">
      <h3>System Requirements</h3>
      <div class="requirements-grid">
        <div class="requirement">
          <h4>Minimum:</h4>
          <ul>
            <li>OS: Windows 7, 64-bit</li>
            <li>CPU: Intel Core i5-4690</li>
            <li>RAM: 8 GB</li>
            <li>Storage: 42 GB</li>
          </ul>
        </div>
        <!--=======================================================-->
        <div class="requirement">
          <h4>Recommended:</h4>
          <ul>
            <li>OS: Windows 10, 64-bit</li>
            <li>CPU: Intel Core i5-7600K</li>
            <li>RAM: 16 GB GB</li>
            <li>Storage: 42 GB</li>
          </ul>
        </div>
      </div>
    </div>
    <!--=======================================================-->
    <!-- MISSIONS -->
    <div class="system-requirements">
      <h3>Missions</h3>
      <div class="requirements-grid">
        <div class="requirement">
          <h4>Story missions</h4>
          <ul>
            <li>Welcome to the Oldest Hous</li>
            <li>Unknown Calle</li>
            <li>Directorial Overrid</li>
            <li>Old Boys' Clu</li>
            <li>Threshol</li>
            <li>My Brother's Keepe</li>
            <li>The Face of the Enem</li>
            <li>Finnish Tang</li>
            <li>Polari</li>
            <li>Take Control</li><br>
          </ul>
        </div>

        <div class="requirement">
          <h4>Side missions</h4>
          <ul>
            <li>A captive audience</li>
            <li>A good defense</li>
            <li>A matter of time</li>
            <li>A merry chase</li>
            <li>Dr. yoshimi tokui's guided imagery experience <br>
              (exclusive to playstation)</li>
            <li>Fridge duty</li>
            <li>Langston's runaways</li>
            <li>Mold removal</li>
            <li>Mr. tommasi</li>
            <li>Old friends</li>
            <li>Old growth</li>
            <li>Self-reflection</li>
            <li>The enemy within</li>
            <li>What a mess: burn the trash</li>
            <li>What a mess: clear the clog</li>
            <li>What a mess: clear the mold</li>
            <li>What a mess: even more mold</li>
            <li>What a mess: take a break</li>
            <li>What a mess: talk to the plants</li>
          </ul><br>
        </div>

        <div class="requirement">
          <h4>Awe [DLC]</h4>
          <h5>Story missions</h5>
          <ul>
            <li>A Dark Place</li>
            <li>The Third Thing</li>
            <li>It's Happening Again</li>
          </ul><br>


          <h5>Side missions</h5>
          <ul>
            <li>Another Fine Mess: Burn the Dark</li>
            <li>Another Fine Mess: Clear the Mold</li>
            <li>Another Fine Mess: Nourish the Plants</li>
            <li>Dead in its Tracks</li>
            <li>Gerbil Took the Top Head</li>
            <li>Return to Sender</li>
            <li>SHÜM</li>
          </ul><br>
        </div>

        <div class="requirement">
          <h4>The Foundation [DLC]</h4>
          <h5>Story missions</h5>
          <ul>
            <li>The Foundation</li>
            <li>The Nail</li>
            <li>The Pyramid</li>
          </ul><br>

          <h5>Side missions</h5>
          <ul>
            <li>Found Footage</li>
            <li>Jesse Faden starring in "Swift Platform"</li>
            <li>Pope's Collection</li>
          </ul>
        </div>


      </div>
    </div>
    </div>
    <!--=======================================================-->
    <!-- GAME TRAILER -->
    <div class="trailer-container">
      <h3>Official Trailer</h3>
      <div class="video-wrapper">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/DSYzcOQUksQ?si=L5T83qNUuGj3iKl2"
          title="YouTube video player" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      </div>
    </div>
    <!--=======================================================-->
    <!-- DOWNLOAD BUTTONS -->
    <div class="download-section">
      <h3>Download Now</h3>
      <div class="download-buttons">
        <a href="magnet:?xt=urn:btih:F39540082982210E350CC3D0B2A581E6FA21F299" class="download-btn primary">Download</a>
        <!--=======================================================-->
        <a href="magnet:?xt=urn:btih:B4AC4BF0DA813AD52B0B4CDC74BD0DADBD180C20" class="download-btn">Alternative</a>
        <!--=======================================================-->
      </div>
    </div>
  </section>
  <!--=======================================================-->

  <button class="back-to-top" id="backToTop">
    <img src="./Images/b2t.png" alt="Back to top">
  </button>
  <!--=======================================================-->
  <footer class="footer">
    <div class="footer-container">
      <img src="./Images/logo.png" alt="Company Logo" class="footer-logo">
      <div class="copyright">
        ©
        <script>document.write(new Date().getFullYear())</script> All Rights Reserved
      </div>
    </div>
  </footer>

  <!--=======================================================-->
  <!--SCRIPT-->
  <script>
    const backToTop = document.getElementById('backToTop');

    // SHOW/HIDE BUTTON BASED ON SCROLL POSITION
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    });

    // SMOOTH SCROLL TO TOP WHEN CLICKED
    backToTop.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    /////////////////////////////////////////////////////////
    // SLIDER
    let items = document.querySelectorAll('.slider .list .item');
    let thumbnails = document.querySelectorAll('.thumbnail .item');
    let thumbnailsContainer = document.querySelector('.thumbnail .list');

    // CONFIG PARAM
    let countItem = items.length;
    let itemActive = 0;
    let isThumbnailClicked = false; // FLAG TO TRACK CLICK
    let startX = 0;
    let currentTranslate = 0;
    let prevTranslate = 0;
    let maxTranslate = 0;
    let minTranslate = 0;

    // INITIAL ACTIVE STATE
    items[0].classList.add('active');
    thumbnails[0].classList.add('active');

    // AUTO-RUN SLIDER
    let refreshInterval = setInterval(() => {
      itemActive = itemActive + 1;
      if (itemActive >= countItem) {
        itemActive = 0;
      }
      showSlider();
    }, 8000);

    function showSlider() {
      // REMOVE ACTIVE CLASS FROM OLD ITEMS
      let itemActiveOld = document.querySelector('.slider .list .item.active');
      let thumbnailActiveOld = document.querySelector('.thumbnail .item.active');

      // CHECK IF OLD ACTIVE ITEMS EXIST BEFORE REMOVING THE CLASS
      if (itemActiveOld) {
        itemActiveOld.classList.remove('active');
      }
      if (thumbnailActiveOld) {
        thumbnailActiveOld.classList.remove('active');
      }

      // ADD ACTIVE CLASS TO NEW ITEMS
      items[itemActive].classList.add('active');
      thumbnails[itemActive].classList.add('active');
      setPositionThumbnail();

      // RESET THE AUTO-RUN SLIDER INTERVAL
      clearInterval(refreshInterval);
      refreshInterval = setInterval(() => {
        itemActive = itemActive + 1;
        if (itemActive >= countItem) {
          itemActive = 0;
        }
        showSlider();
      }, 8000);
    }

    function setPositionThumbnail() {
      if (isThumbnailClicked) {
        let thumbnailActive = document.querySelector('.thumbnail .item.active');
        let rect = thumbnailActive.getBoundingClientRect();
        if (rect.left < 0 || rect.right > window.innerWidth) {
          thumbnailActive.scrollIntoView({ behavior: 'smooth', inline: 'nearest' });
        }
        isThumbnailClicked = false; // RESET FLAG
      }
    }

    // CLICK THUMBNAIL
    thumbnails.forEach((thumbnail, index) => {
      thumbnail.addEventListener('click', () => {
        itemActive = index;
        isThumbnailClicked = true; // SET FLAG
        showSlider();
      });
    });

    // TOUCH EVENTS FOR THUMBNAIL SWIPING
    thumbnailsContainer.addEventListener('touchstart', touchStart);
    thumbnailsContainer.addEventListener('touchmove', touchMove);
    thumbnailsContainer.addEventListener('touchend', touchEnd);

    function touchStart(event) {
      startX = event.touches[0].clientX;
      prevTranslate = currentTranslate;
    }

    function touchMove(event) {
      const currentX = event.touches[0].clientX;
      const deltaX = currentX - startX;
      currentTranslate = prevTranslate + deltaX;

      // CALCULATE MIN AND MAX TRANSLATE VALUES
      minTranslate = window.innerWidth - thumbnailsContainer.scrollWidth;
      maxTranslate = 0;

      // LIMIT THE SLIDING WITHIN BOUNDS
      if (currentTranslate > maxTranslate) {
        currentTranslate = maxTranslate;
      }
      if (currentTranslate < minTranslate) {
        currentTranslate = minTranslate;
      }

      thumbnailsContainer.style.transform = `translateX(${currentTranslate}px)`;
    }

    function touchEnd() {
      prevTranslate = currentTranslate;
    }


    ///////////////////////////////////////////////////////////////////////////////
    // HAMBURGER SYMBOL
    // Function to toggle the mobile menu
    function toggleMenu() {
      const menu = document.querySelector('.menu');
      menu.classList.toggle('active');
    }
  </script>

  <!--=======================================================-->
  <!--SCRIPTS-->
  <script src="Scripts/Header.js"></script>
  <script src="Scripts/Pagination.js"></script>
  <!--=======================================================-->
  <!--///////////////////////////////////////////////////////-->
  <!--///////////////////////////////////////////////////////-->
  <!--///////////////////////////////////////////////////////-->
</body>

</html>